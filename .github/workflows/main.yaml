name: CI

on: [push]

jobs:  
  build:
    strategy:
      matrix:
        agent: [ 'windows-latest', 'ubuntu-latest', 'macos-latest' ] 
    runs-on: ${{ matrix.agent }}
    steps:
    - name: Checkout submodules
      uses: srt32/git-actions@v0.0.3
      with:
        args: git submodule update --init --recursive
    - uses: actions/checkout@v1
    - name: configure
      run: mkdir build && cd build && cmake ./..
    - name: build
      run: cmake --build build